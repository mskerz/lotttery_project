 


<div class="container  " style="margin-top: 50px;">
    <div class="row">
       
      <div class="col-md-8">
        <div class="card">
          <div class="card-header">
            <h5>รายงานประจำวัน</h5>
          </div>
          <div class="card-body">
            <p-table [value]="orders_bydaily" *ngIf="orders_bydaily.length > 0">
              <ng-template pTemplate="header">
                <tr>
                  <th>เลขคำสั่งซื้อ</th>
                  <th>ชื่อผู้ใช้</th>
                  <th>วันที่สั่งซื้อ</th>
                  <th>ราคาที่สั่งซื้อทั้งหมด</th>
                  <!-- เพิ่มหัวข้อคอลัมน์อื่น ๆ ตามที่ต้องการ -->
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-order>
                <tr>
                  <td>{{ order.order_id }}</td>
                  <td>{{ order.fullname }}</td>
                  <td>{{ order.purchase_date  }}</td>
                  <td>{{order.total_order_price}} บาท  <button color="primary" mat-button (click)="toggleOrderDetails(order.order_id)">รายละเอียด</button></td>
                  
                  <!-- แสดงข้อมูลอื่น ๆ ตามที่ต้องการ -->
                </tr>
                 
                <tr *ngIf="orderDetailsVisible[order.order_id]">
                    <td colspan="4">
                      <!-- แสดงรายละเอียด lotteries ของ order นี้ที่คุณต้องการ -->
                      <!-- ใช้ ngFor วนลูป lotteries ที่อยู่ใน order.orders -->
                      <ul>
                        <li *ngFor="let lottery of order.orders">
                          หมายเลขสลาก: {{ lottery.lottery_number }},
                          จำนวนที่สั่ง: {{ lottery.quantity_order }} ใบ,
                          ราคาต่อใบ: {{ lottery.price }} บาท,
                          ราคารวม: {{ lottery.total_price }} บาท
                        </li>
                      </ul>
                    </td>
                  </tr>
              </ng-template>
            </p-table>
            <div class="container text-center m-3" *ngIf="orders_bydaily.length === 0" style="width: 5orem;">
              <div class="d-flex flex-column p-4">
                <p class="h3 text-secondary">ไม่มีรายงานการซื้อประจำวัน</p>
              </div>
            </div>
          </div>
        </div>
        <div class="m-4"></div>
        <div class="card">
          <div class="card-header">
            <h5>รายงานประจำเดือน</h5>
          </div>
          <div class="card-body">
            <p-table [value]="orders_bymonthly" [rows]="5"  [paginator]="true" [paginatorPosition]="'bottom'">
              <ng-template pTemplate="header">
                <tr>
                  <th>เลขคำสั่งซื้อ</th>
                  <th>ชื่อผู้ใช้</th>
                  <th>วันที่สั่งซื้อ</th>
                  <th>ราคาที่สั่งซื้อทั้งหมด</th>
                  <!-- เพิ่มหัวข้อคอลัมน์อื่น ๆ ตามที่ต้องการ -->
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-order>
                <tr>
                  <td>{{ order.order_id }}</td>
                  <td>{{ order.fullname }}</td>
                  <td>{{ order.purchase_date  }}</td>
                  <td>{{order.total_order_price}} บาท  <button color="primary" mat-button (click)="toggleOrderDetails(order.order_id)">รายละเอียด</button></td>
                  
                  <!-- แสดงข้อมูลอื่น ๆ ตามที่ต้องการ -->
                </tr>
                <tr *ngIf="orderDetailsVisible[order.order_id]">
                    <td colspan="4">
                      <!-- แสดงรายละเอียด lotteries ของ order นี้ที่คุณต้องการ -->
                      <!-- ใช้ ngFor วนลูป lotteries ที่อยู่ใน order.orders -->
                      <ul>
                        <li *ngFor="let lottery of order.orders">
                          หมายเลขสลาก: {{ lottery.lottery_number }},
                          จำนวนที่สั่ง: {{ lottery.quantity_order }} ใบ,
                          ราคาต่อใบ: {{ lottery.price }} บาท,
                          ราคารวม: {{ lottery.total_price }} บาท
                        </li>
                      </ul>
                    </td>
                  </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>
      
    </div>
</div>
  